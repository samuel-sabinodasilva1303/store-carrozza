(function($){
"use strict";
$(document).ready(function(){
  if ($(".paginate").length > 0) {
    let first =
        '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="12" viewBox="0 0 13 12"><path fill="" fill-rule="evenodd" d="M12.28 11.28a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L7.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Zm-6 0a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L1.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"/></svg>',
      prev =
        '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="7" height="12" viewBox="0 0 7 12"><path fill="" fill-rule="evenodd" d="M6.28 11.28a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L1.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"/></svg>',
      next =
        '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="7" height="12" viewBox="0 0 7 12"><path fill="" fill-rule="evenodd" d="M.47.47a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06L4.94 6 .47 1.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/></svg>',
      last =
        '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="12" viewBox="0 0 13 12"><path fill="" fill-rule="evenodd" d="M.22.22a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06l4.47-4.47L.22 1.28a.75.75 0 0 1 0-1.06Zm6 0a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06l4.47-4.47-4.47-4.47a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/></svg>';
  
    $(".paginate__page--first > a").html(first);
    $(".paginate__page--prev > a").html(prev);
    $(".paginate__page--next > a").html(next);
    $(".paginate__page--last > a").html(last);
  }
  
    const textPageContact = $('.page-contact .default-content > .container');
    const buttonPageContact = $('.page-contact #btn_submit img.image');
    const inputTelPageContact = $('.page-contact #telefone_contato');
    const textEmailPageContact = $('.page-contact .email-texto');
    const tel01PageContact = $('.page-contact .contato-telefones .block:nth-child(1)');
    const tel02PageContact = $('.page-contact .contato-telefones .block:nth-child(2)');
    
    textPageContact.prepend(`
        <h1>Fale conosco</h1>
        <p class="contactUs-description">Precisa falar com a gente? Utilize uma das opções abaixo para entrar em contato conosco.</p>
    `);
    buttonPageContact.parent().text('Enviar Mensagem').addClass('button2').children().remove();
    inputTelPageContact.removeAttr('onkeypress maxlength').addClass('mask-phone');
    textEmailPageContact.parent().wrap('<div class="contactUs-email"></div>');
    
    // Manipula os telefones
    if (tel01PageContact.length) {
        let phoneNumberFormatted = tel01PageContact.text();
        let phoneNumber = phoneNumberFormatted.replace(/\D/g, '');
    
        tel01PageContact.unwrap().parent().addClass('contactUs-phone')
            .html(`<h3>Central de Atendimento ao Cliente</h3>
            <a href="tel:${phoneNumber}" title="Ligue para nós">${phoneNumberFormatted}</a>`);
    }
    
    if (tel02PageContact.length) {
        let phoneNumberFormatted = tel02PageContact.text();
        let phoneNumber = phoneNumberFormatted.replace(/\D/g, '');
    
        tel02PageContact
            .wrap('<div class="contactUs-whats"></div>')
            .parent()
            .insertAfter('.page-contact .contactUs-phone').html(`<h3>WhatsApp</h3>
                <a target="_blank" tray-wp rel="noopener noreferrer" href="https://api.whatsapp.com/send?l=pt&phone=55${phoneNumber}" title="Fale conosco no WhatsApp">${phoneNumberFormatted}</a>`);
    }
    
    // Remove os outros elementos indesejados
    $('.page-contact .board:not(:has(#form1))').remove();
    
  
  if ($(window).width() < 768) {
    $('.showcase__list--related').slick({
      infinite: true,
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: true,
      dots: true
    });
    $('.banners__center--container').slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      dots: true,
      arrows: false,
      autoplay: false,
      autoplaySpeed: 3000,
    });
    $('.history__main--segmentation-container').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        dots: true,
    });
  }
});
if ($(".gallery").length > 0) {

  /* Variables */
  const input = document.getElementById("selectedVariant"),
    galleryData = JSON.parse(
      document.getElementById("gallery-data").textContent
    );

  let $parent = $(".gallery"),
    $nav = $parent.find(".gallery__nav"),
    $frame = $parent.find(".gallery__frame");

  /* Hide buttons if product not have stock or not availiable  */
  function changeVariation(variationId) {
    galleryData.forEach(({ id, images, thumbs, stock }) => {
      +id === +variationId && changeGallery(thumbs, images);
      +id === +variationId && +stock < 1
        ? $(".buy-button").hide()
        : $(".buy-button").show();
    });
  }

  galleryData.some((item) => item.selected)
    ? hasSelectedVariation()
    : initThumbsAndGallery();

  /* When page has a variation selected remove items and rebuild */
  function hasSelectedVariation() {
    galleryData.forEach(({ id, selected }) => {
      if (selected) {
        $frame.find(".gallery__link").not(".video").remove();
        $nav.find(".gallery__figure").not(".video").remove();
        changeVariation(id);
      }
    });
  }

  /** Initialize slick in main image and thumbs too */
  function initThumbsAndGallery() {
    $nav.slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      asNavFor: $frame,
      centerMode: false,
      focusOnSelect: true,
      vertical: true,
      rows: 0,
      nextArrow,
      prevArrow,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            vertical: false
          }
        }
      ]
    });

    $frame.slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      asNavFor: $nav,
      fade: true,
      rows: 0,
      arrows: false,
      slide: ".gallery__link",
    });
  }

  /* Rebuild the structure when variation changes */
  function changeGallery(thumbs = [], images = []) {
    let templateThumb = (src) =>
        `<figure class="gallery__figure gallery__figure--nav"><img src="${src}" width="97" height="97" alt="img_thumb" loading="lazy"></figure>`,
      templateFrame = (src) =>
        `<a href="${src}" data-fancybox="gallery" class="gallery__link"><figure class="gallery__figure gallery__figure--frame"><img src="${src}" width="500" height="500" alt="img_frame" loading="lazy"></figure></a>`,
      elementsThumbs = "",
      elementsFrames = "";

    thumbs.forEach((src) => (elementsThumbs += templateThumb(src)));
    images.forEach((src) => (elementsFrames += templateFrame(src)));

    $nav.prepend(elementsThumbs);
    $frame.prepend(elementsFrames);
    initThumbsAndGallery();
  }

  /* Destroy main images and thumbs except main video and thumb video */
  function destroyGallery() {
    // $.fancybox.destroy();
    $frame.slick("unslick").find(".gallery__link").not(".video").remove();
    $nav.slick("unslick").find(".gallery__figure").not(".video").remove();
  }

  if (input) {
    const observer = new MutationObserver(function (mutations, observer) {
      if (mutations[0].attributeName === "value") {
        $(input).change();
      }
    });

    observer.observe(input, { attributes: true });

    $("#selectedVariant").on("change input", function (e) {
      let value = $(this).val();
      value.length && destroyGallery();
      value.length && changeVariation(value);
    });
  }

  if($('.gallery__link.video').length > 0) {

    function createUrlOfIframe(url){
      if(url.indexOf('.youtube.') !== -1 || url.indexOf('/youtu.be/') !== -1 ){
        return `https://www.youtube.com/embed/${url.slice(url.lastIndexOf('/') + 1)}?autoplay=1&loop=1&autopause=0`;
      }else if(url.indexOf('vimeo') !== -1){
        return `https://player.vimeo.com/video/${url.split('?')[0].slice(url.split('?')[0].lastIndexOf('/') + 1)}?autoplay=1`
      }else {
        return undefined
      }
    }

    function createIframeModal(link){
      if(createUrlOfIframe(link) !== undefined){
        const template = `<iframe src="${createUrlOfIframe(link)}" width="800" height="450" allow="autoplay; fullscreen" allowfullscreen>`;
        $('body').toggleClass('overlay')
        $('#overlay').append(template)
      } else {
        console.error('[Link do video não pertence ao Youtube ou ao Vimeo]')
      }
    }


    $('.gallery__link.video').on('click', function(e){
      e.preventDefault();
      createIframeModal($(this).attr('href'))
      console.log('[open video]')
    })

  }
}

$('.slick-carousel').slick({
  infinite: true,
  slidesToShow: 3,
  slidesToScroll: 1,
  responsive: [
      {
          breakpoint: 768,
          settings: {
              slidesToShow: 1
          }
      }
  ]
});
//Carroussel de produtos
if ($(".showcase").length > 0 && !window.matchMedia("(max-width: 767px)").matches) {
  $('.showcase[data-carousel="true"] .showcase__list').each(function () {
    var itemCount = $(this).find('.showcase__item').length;
    if (itemCount > 4) {
      $(this).slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: false,
        rows: 0,
        nextArrow: false,
        prevArrow: false ,
        dots: false,
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
          {
            breakpoint: 678,
            settings: {
              slidesToScroll: 1,
              slidesToShow: 1,
            },
          },
        ],
      });
    }
  });
}else{
  if ($(".showcase").length > 0) {
    $('.showcase[data-carousel="true"] .showcase__list').each(function () {
      $(this).slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: false,
        rows: 0,
        nextArrow: false,
        prevArrow: false ,
        dots: false,
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
          {
            breakpoint: 678,
            settings: {
              slidesToScroll: 1,
              slidesToShow: 1,
            },
          },
        ],
      });
    });
  }
}

//Full banner Home
$(document).ready(function () {

  $(".banner-home__list").slick({
    inifinite: true,
    autoplay: true,
    autoplaySpeed: 4500,
    slidesToShow: 1,
    slidesToScroll: 1,
    rows: 0,
    dots: true,
  });

  
});

// andressement
 // Esconder todos os vídeos inicialmente
 $('.endorsserments__main--video').hide();

 // Mostrar o primeiro vídeo
 $('.endorsserments__main--video[data-video="1"]').show();

 $('[data-persona="1"]').hide();

 $('[data-persona]').on('click', function() {
     var personaId = $(this).data('persona');

     $('.endorsserments__main--video').hide();

     $('.endorsserments__main--video[data-video="' + personaId + '"]').show();

     $('[data-persona]').show();

     $('[data-persona="' + personaId + '"]').hide();
 });



if ($(".page-search").length > 0 || $(".page-catalog").length > 0) {
  $('.filter__item').on('click', function(e) {
    if ($(e.target).is('.filter__input')) {
    } else {
      $(this).find('.filter__input').click();
    }
  });

  $('.filter__input').on('click', function(e) {
    e.stopPropagation();
  });

  $('.filter__input.filter__input--propertie').on('change', function() {
    var $filterLabel = $(this).closest('.filter__item').find('.filter__name');

    if ($(this).prop('checked')) {
      $filterLabel.trigger('click');
    }
  });


  $(".filter__btn--clean").on("click", function (e) {
    e.preventDefault();
    $("section.filter__block").each(function () {
      $(this).find('input[type="checkbox"]').removeAttr("checked");
    });
    $(".filtered").slideToggle();
    $("form.filter__form").submit();
  });

  $(".filter .filter__title").each(function () {
    $(this).on("click", function () {
      $(this).closest(".filter__fake-select").toggleClass("open");
      $(this).siblings(".filter__list, .filter__price").slideToggle(300);
    });
  });

  $(".filter .filter__list").each(function () {
    let $list = $(this),
      lastIndex = $list.find(" > li").length - 1,
      title = $list.siblings("h4").text().toLowerCase(),
      template = (label) =>
        '<li class="filter__item filter__item--btn">' +
        arrowUp + 
        "<span>Ver " +
        label +
        " " +
        title +
        "</span></li>";

    $list.is(":empty") && $(this).closest(".filter__block").hide();

    $list.find("> li").each(function (index) {
      let $item = $(this);
      index > 4 && $item.hide();
      index === 5 && $item.before(template("mais"));
      index > 4 && index == lastIndex && $item.after(template("menos"));
    });
  });

  $(".filter__category-btn").on("click", function () {
    $(this).toggleClass("show").next().slideToggle("slow");
  });

  $(document).on("click", ".filter__item--btn", function () {
    $(this).slideToggle(333);
    $(this).nextAll().length > 0
      ? $(this).nextUntil(".filter__item--btn").slideToggle()
      : $(this).prevUntil(".filter__item--btn").slideToggle();
    $(this)
      .siblings(".filter__item--btn")
      .slideToggle()
      .css({ display: "flex" });
    // $(this).prevAll().length > 0 && $(this).prevUntil('.filter__item--btn').hide();
  });

  if ($(".filter__price").length > 0) {
    let $parent = $(".filter__price"),
      showMin = $parent.find('input[name="min"]'),
      showMax = $parent.find('input[name="max"]'),
      ranges = $parent.find(".input-range__input");

    function stringCurrency(number) {
      return new Intl.NumberFormat("pt-BR", {
        style: "currency",
        currency: "BRL",
      }).format(number);
    }

    !isMobile &&
      $(".filter input[name]").on("input change", function () {
        $(".filter__form").submit();
      });

    const submitPrices = debounce((min, max) => {
      $parent
        .find('input[type="hidden"]')
        .prop("disabled", false)
        .val(min + "," + max)
        .trigger("change");
    }, 1000);

    $(".input-range__input").on("change input", function () {
      let a = Number(ranges[0].value),
        b = Number(ranges[1].value),
        min = a < b ? a : b,
        max = a > b ? a : b;

      showMin.val(stringCurrency(min));
      showMax.val(stringCurrency(max));
      submitPrices(min, max);
    });
  }
}


$(document).ready(function () {
    var currentUrl = window.location.href;
    var listItems = document.querySelectorAll(".btn_esquerda li");

    listItems.forEach(function (li) {
      var link = li.querySelector("a");
      var href = link.getAttribute("href");

      if (currentUrl === window.location.origin + '/' && href === window.location.origin + '/') {
        li.classList.add("loja_ativa");
      } else if (currentUrl.includes("/rolamentos-home") && href.includes("/rolamentos-home")) {
        li.classList.add("loja_ativa");
      } else {
        li.classList.remove("loja_ativa");
      }
    });
 

  $("[data-hidden-id]").each(function () {
    var $el = $(this);
    var id = $el.attr("data-hidden-id");

    $el.on("click", function (e) {
      e.preventDefault();
      var value = $(id).attr("aria-hidden") === "true";

      $("body").toggleClass("disabled");
      $(id).attr("aria-hidden", !value);
    });
  });

  $(".menu__arrow").on("click", function () {
    var $el = $(this);
    var value = $el.attr("data-expanded") === "true";
    $el.attr("data-expanded", !value);
    $el.next().slideToggle(300);
  });

  $(".header .header__button").on("click", function (e) {
    e.preventDefault();
  });
});

var current = 0

$(window).on("scroll", function () {
  current = 0
  current += $(this).scrollTop();

  if (current > 180) {
    $("body").addClass("scroll");
  } else {
    $("body").removeClass("scroll show-menu");
    $(".header__menu-scroll").removeClass("scroll--active")
  }
});

$(".header__button").on("click", function(){
  let buttonActive =  $(this).hasClass("button-active")
  $(this).addClass("button-active")
  if(!buttonActive){
    if (current > 180) {
      $(".header__menu-scroll").addClass("scroll--active")
    }
    else{
      $(".header__menu-scroll").removeClass("scroll--active")
    }
  }
  else{
    $(this).removeClass("button-active")
    $(".header__menu-scroll").removeClass("scroll--active")
  }
})

if ($(".showcase").length > 0 && !window.matchMedia("(max-width: 767px)").matches) {
  $('.showcase[data-carousel="true"] .showcase__list').each(function () {
    var itemCount = $(this).find('.showcase__item').length;
    if (itemCount > 4) {
      $(this).slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: false,
        rows: 0,
        nextArrow: false,
        prevArrow: false ,
        dots: false,
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
          {
            breakpoint: 678,
            settings: {
              slidesToScroll: 1,
              slidesToShow: 1,
            },
          },
        ],
      });
    }
  });
}else{
  console.log('teste')
  if ($(".showcase").length > 0) {
    $('.showcase[data-carousel="true"] .showcase__list').each(function () {
      $(this).slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        infinite: false,
        rows: 0,
        nextArrow: false,
        prevArrow: false ,
        dots: false,
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
          {
            breakpoint: 678,
            settings: {
              slidesToScroll: 1,
              slidesToShow: 1,
            },
          },
        ],
      });
    });
  }
}

if ($(".page-search #vitrine-catalogo").length > 0) {
  var $inputImg = $('input[name="imageField"]').get(0);
  var $button = $("<button />");

  $.each($inputImg.attributes, function (i, attribute) {
    if (attribute.name !== "src") {
      return $button.attr(attribute.name, attribute.value);
    }
  });

  $($inputImg).replaceWith($button.text("Enviar"));
}

if ($(".page-catalog, .page-search").length > 0) {
  if ($(".page-catalog__description").length > 0) {
    let $desc = $(".page-catalog__description--text"),
      maxH = isMobile ? 72 : 40,
      descH = $desc.height();

    function setReadMoreOrLessBtn() {
      let btn =
        '<span class="page-catalog__description--btn" data-action="more" role="button">Ler mais</span>';

      $desc.append(btn);

      $(".page-catalog__description--btn").on("click", function () {
        let action = $(this).attr("data-action");

        action === "more" &&
          $(this)
            .text("Ler menos")
            .attr("data-action", "less")
            .parent()
            .css({
              transition: "all 333ms linear",
              "max-height": descH + 20 + "px",
            });

        action === "less" &&
          $(this)
            .text("Ler mais")
            .attr("data-action", "more")
            .parent()
            .css("max-height", "");
      });
    }

    descH > maxH && setReadMoreOrLessBtn();
  }

  $(".page-catalog__btn--filter, .page-search__btn--filter").on("click", function (e) {
    e.preventDefault();
    $(".page-catalog__filter, .page-search__filter").css({ left: 0 });
  });

  $(".page-catalog__filter-btn, .page-search__filter-btn").on("click", function (e) {
    e.preventDefault();
    $(".page-catalog__filter, .page-search__filter").css({ left: "-100%" });
  });
}

if ($(".page-comparador").length > 0) {
  $(".comparator .comparsionFoto img").each(function () {
    var src = $(this).attr("src");
    src = src.replace("/90_", "/180_");
    $(this).attr("src", src);
  });
}

if($('.page-contact').length > 0 ){

  $('input[name="nome_contato"]').attr('placeholder','John Doe')
  $('input[name="empresa"]').attr('placeholder','Xyz Ltda.')
  $('input[name="email_contato"').attr('placeholder','email@email.com')
  $('input[name="telefone_contato"]').attr('placeholder','(xx) xxx-xxx')
  $('input[name="assunto"]').attr('placeholder','Compra')
  $('textarea[name="mensagem_contato"').attr('placeholder','Olá solicito...')

  var $inputImg = $('input[type="image"]#imagem').get(0) || $('a#btn_submit').get(0)
  var $button = $('<button />')

  $.each($inputImg.attributes, function(i, attribute){
    if(attribute.name !== 'src'){
      return $button.attr(attribute.name, attribute.value)
    }
  })

  $button.attr('type', 'button');

  $($inputImg).replaceWith($button.text('Enviar'))
}

if ($(".page-depoimentos").length > 0) {
  $('input[name="nome_depoimento"]').attr("placeholder", "John Doe");
  $('input[name="email_depoimento"]').attr("placeholder", "email@email.com");
  $('textarea[name="msg_depoimento"]').attr("placeholder", "Loja muito ...");
  $(".main__container > .board .editDep h3.color").each(function () {
    var newText = $(this).text().replace("Nome: ", "");
    $(this).text(newText);
  });
}

let timeOut = setInterval(function(){
    let removeIframe = $("#md-app-widget ~ iframe");

    removeIframe.each(function(){
        let iframe = $(this);

        if(!iframe.attr('style') && !iframe.attr('class')){
            iframe.remove();
            clearInterval(timeOut);
        }
    })
}, 1000);
$('.page-login') && $('#email_cadastro').attr('placeholder','Seu e-mail');
$(".carrinho-heading .color").text('Insira seus dados')

if ($(".page-noticia").length > 0 && $("#noticiaProdutos").length > 0) {
  $("#noticiaProdutos")
    .find("img")
    .each(function () {
      let $src = $(this).attr("src").replace("/90_", "/180_");

      $(this).attr("src", $src);
    });

  function slickInit() {
    $("#noticiaProdutos #listaNoticiaProdutos").slick({
      slidesToShow: 4,
      slidesToScroll: 4,
      infinite: false,
      rows: 0,
      nextArrow,
      prevArrow,
      dots: false,
      customPaging,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
          },
        },
        {
          breakpoint: 678,
          settings: {
            slidesToScroll: 2,
            slidesToShow: 2,
          },
        },
      ],
    });
  }

  function slickDestroy() {
    $("#noticiaProdutos #listaNoticiaProdutos").slick("unslick");
  }

  isMobile && slickInit();

  let slickOn = false;

  $(window).on("resize", function () {
    if ($(window).width() < 992) {
      !slickOn && slickInit();
      slickOn = true;
    } else {
      slickOn && slickDestroy();
      slickOn = false;
    }
  });
}

if ($(".page-product").length > 0) {


  $("#carousel").attr("data-jcarousel", "false");

  $("#email_avise").length > 0 &&
    $("#email_avise").attr("placeholder", "Seu e-mail");

  $(".page-product__summary--anchor").on("click", function (e) {
    e.preventDefault();
    let headerHeight = $("header").height();
    let $hash = this.hash;
    let target = $('[data-content-id="' + $hash + '"]');
    !target.parent().hasClass("show") && target.trigger("click");

    $("html, body")
      .stop()
      .animate(
        {
          scrollTop: $($hash).offset().top - headerHeight,
        },
          900,
          "swing"
      );
  });

  if ($(".page-product").length > 0) {
    $(".products-related").length > 0 &&
      $(".products-related .showcase__list--related").slick({
        slidesToShow: 4,
        slidesToScroll: 4,
        infinite: false,
        rows: 0,
        nextArrow,
        prevArrow,
        dots: false,
        customPaging,
        responsive: [
          {
            breakpoint: 991,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
          {
            breakpoint: 678,
            settings: {
              slidesToScroll: 1,
              slidesToShow: 1,
            },
          },
        ],
      });
  }
  $(document).ready(function () {
    let arrowL = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="25" viewBox="0 0 13 25"><path fill="#525252" d="M11.16 25a1.88 1.88 0 001.63-.95 1.74 1.74 0 00-.22-1.98l-8.25-9.55 7.96-9.56a1.76 1.76 0 00.4-1.32A1.74 1.74 0 0012 .44a1.86 1.86 0 00-1.4-.43A1.89 1.89 0 009.3.7l-8.9 10.7a1.75 1.75 0 000 2.25l9.22 10.7a1.84 1.84 0 001.53.64z"/></svg>`;
    let arrowR = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="25" viewBox="0 0 13 25"><path fill="#525252" d="M1.84 25a1.88 1.88 0 01-1.63-.95 1.74 1.74 0 01.22-1.98l8.25-9.55L.72 2.96a1.76 1.76 0 01-.4-1.32A1.74 1.74 0 011 .44 1.86 1.86 0 012.4.01 1.89 1.89 0 013.7.7l8.9 10.7a1.75 1.75 0 010 2.25l-9.22 10.7a1.84 1.84 0 01-1.53.64z"/></svg>`;

    if ($(".page-product__gift").length > 0) {
      $("#btmais strong").replaceWith(arrowR),
      $("#btmenos strong").replaceWith(arrowL);
    }

    $("#precoDe").length > 0 &&
      $("#precoDe").html($("#precoDe").html().replace("De", ""));

    $("#brindes").slick({
      infinite: true,
      nextArrow,
      prevArrow,
      slidesToShow: 4,
      slidesToScroll: 1,
      rows: 1,
    });

    /* Added a input element that set values in original inputs */
    if ($("#cepbox").length > 0) {
      $(
        '<input onkeyup="mascara(this,numeros,event)" id="fullcep" type="text" placeholder="" maxlength="8"/>'
      ).insertBefore($("#cep1"));

      $("#cep1 , #cep2").attr("placeholder", " ");
      $("#fullcep").attr("placeholder", "Digite seu CEP");

      $("#fullcep").on("input", function () {
        let value = $(this).val();
        let $cep1 = $("#cep1");
        let $cep2 = $("#cep2");

        if (value.length <= 5) {
          $cep1.val(value);
          $cep2.val("");
        } else if (value.length === 8 && [0, 3].includes($cep2.val().length)) {
          $cep1.val(value.substring(0, 5));
          $cep2.val(value.substring(5));
        } else {
          $cep2.val(value.substring(5));
        }
      });
    }
  });

  $(window).ajaxComplete(function (event, xhr, settings) {
    if (settings) {
      if (settings.url.indexOf("brinde_produto") !== -1) {
        changeButton();
        let $target = $("#modal-form .brinde_detalhes .variacao img ");
        changeImgSize($target);
      }
    }
  });

  function changeImgSize(target) {
    let oldSrc = $(target).attr("src");
    let newSrc = oldSrc.replace("/90_", "/180_");
    $(target).attr("src", newSrc);
  }

  function changeButton() {
    let $img = $(".modal .botao > img").get(0);
    let $button = $("<button />");

    $.each($img.attributes, function (i, attribute) {
      if (attribute.name !== "src") {
        return $button.attr(attribute.name, attribute.value);
      }
    });

    $($img).replaceWith($button.text("Escolher"));
  }

  // Comments
  if ($("#bt-submit-comments").length > 0) {
    $("img#bt-submit-comments").after(
      '<button type="button" class="page-product__comments-btn">Enviar</button>'
    );
    $(".page-product__comments-btn").on("click", function (e) {
      e.preventDefault();
      $("img#bt-submit-comments").trigger("click");
    });
  }

  $('a[data-logged-user="false"]')
    .parent()
    .before($('a[data-logged-user="false"]'));
  $(".page-product__comments--btn").on("click", function () {
    $("#comentario_cliente").slideToggle();
  });

  $(".product-tabs__item a[data-content-id='#formasPagto']").on("click", function(){
    let existsTopBarParc = $("#atualizaFormas > div").hasClass("parc__container")
    let existsTopBarBoleto = $("#atualizaFormas > div").hasClass("boleto__container")

    if (!existsTopBarParc && !existsTopBarBoleto){

      $("#atualizaFormas").prepend("<div class='parc__container'><div class=pgto__topbar>PARCELAMENTO</div></div><div class='boleto__container'><div class='pgto__topbar'>BOLETO</div></div></div>");
      $(".product-tabs__content#formasPagto #atualizaFormas .Forma1>li>a").each(function () {
        let content = this.textContent;
        let isBoleto = content.includes("Boleto");

        if (isBoleto) {
          $(".boleto__container").append($(this).parent());
        } else {
          $(".parc__container").append($(this).parent());
        }
    });
    }
  });
  jQuery.ajax({
    url: 'sua-url-aqui',
    type: 'GET',
    success: function(data) {

    },
    complete: function() {
      jQuery('.parc__container li[id^="li_"]').each(function() {
        jQuery(this).find('td:first').remove();
        jQuery(this).find('td:last').remove();
      });
    }
  });
}
function process(quant){
  let value = parseInt(document.getElementById("quant").value);
  value += quant;
  if (value >= 1) {
    document.getElementById("quant").value = value;
  }
}

function requestProductsCart() {
  let idLoja = $('html').data('store');
  let ef_some_comprar = 0;
  $.getJSON("/mvc/store/cart/count?loja=" + idLoja, function(data) {
    let cartItem = 0,
      cartItemHtml = '',
      totalItemsCart = data.cart.Products.length;

    if(totalItemsCart !== 0) {
      $('.cart .list').find('li').remove();
      for(cartItem = 0; cartItem < totalItemsCart; cartItem++) {

        if((data.cart.Products[cartItem].price=='0,00') || (data.cart.Products[cartItem].price=='0.00')) {
          ef_some_comprar=1;
        }

        let ef_nome_variacao = data.cart.Products[cartItem].Variant.name;

        if(ef_nome_variacao != undefined) {
          cartItemHtml += '<li class=""><img class="item-image" src="'+data.cart.Products[cartItem].ProductImage[0].https +'"><span class="item-name">'+ data.cart.Products[cartItem].name +' ('+ef_nome_variacao+') </span><span class="item-qntd">'+ data.cart.Products[cartItem].quantity +'</span><span class="item-price">R$ '+ data.cart.Products[cartItem].price +'</span></li>';
        } else {
          cartItemHtml += '<li class=""><img class="item-image" src="'+data.cart.Products[cartItem].ProductImage[0].https +'"><span class="item-name">'+ data.cart.Products[cartItem].name +'</span><span class="item-qntd">'+ data.cart.Products[cartItem].quantity +'</span><span class="item-price">R$ '+ data.cart.Products[cartItem].price +'</span></li>';
        }
      }
      if(ef_some_comprar == 1) {
        $('.ef_btcomprar_car').css('display','none');
      }
    } else {
      $('.cart .list').find('li').remove();
      cartItemHtml += '<li class=""><span class="item-name">VAZIO</span></li>';
    }

    $('.cart .data-amount-cart').text(data.cart.amount);
    $('.cart .data-price-cart').text(data.cart.price);
    $('.cart .list').prepend(cartItemHtml);
  });
}

function mostra_carrinho(acionador) {
  if(acionador == 'btn_orcamento') {
    document.body.scrollTop = 0; // For Chrome, Safari and Opera
    document.documentElement.scrollTop = 0; // For IE and Firefox
  }

  $('.cart .toggle-element-car').css("visibility", "visible");
  $('.cart .toggle-element-car').css("opacity", "1");
}

function esconde_carrinho() {
  $('.cart .toggle-element-car').css("visibility", "hidden");
  $('.cart .toggle-element-car').css("opacity", "0");
}

(function($){
  //orcamento    btn em produto
  $('#ef_btn_orc_produto').on('click',function(){
    let dataProductId = $(this).data('product-id');
    let dataSession = $("html").attr("data-session");
    let button = $(this);
    let $product = button.parents('#form_comprar');
    let ef_qtd = ($product.find('#quantidade input[name="quant"]').length) ? $product.find('#quantidade input[name="quant"]').val() : 1;

  //variacao
    let ef_variation = '';
    let ef_li_all_variation = $(".lista_cor_variacao").find("li");
    let ef_cod_variacao = ef_li_all_variation.find(".cor_selecionada").parent().attr("data-id");

    if(ef_li_all_variation.length!=0 && ef_cod_variacao==undefined ){
        let ef_span_erro = ($product.find('#span_erro_carrinho'));
        ef_span_erro.css("display", "block");
    }
    if(ef_cod_variacao !== undefined && ef_cod_variacao !== null && ef_cod_variacao !== ''){
    ef_variation = ef_cod_variacao;
    }
    //ajax
    $.ajax({
      method: "POST",
      url: "/web_api/cart/",
      contentType: "application/json; charset=utf-8",
      data: '{"Cart":{"session_id":"'+dataSession+'","product_id":"'+dataProductId+'","quantity":"'+ef_qtd+'","variant_id":"'+ef_variation+'"}}',
    }).done(function( response, textStatus, jqXHR ){
      requestProductsCart();
      mostra_carrinho('btn_orcamento');
      location.reload();
    })
  });

  $('.product').find('.btn-add-to-cart').click(function(){
    let dataProductId = $(this).data('product-id');
    let dataSession = $("html").attr("data-session");
    let button = $(this);
    $.ajax({
      method: "POST",
      url: "/web_api/cart/",
      contentType: "application/json; charset=utf-8",
      data: '{"Cart":{"session_id":"'+dataSession+'","product_id":"'+dataProductId+'","quantity":"1"}}'
    }).done(function( response, textStatus, jqXHR ) {
      button.parents('.product').find('.sucess-add-cart').addClass('active');
      button.parents('.product').find('.title').removeClass('error').text('Produto adicionado');
      requestProductsCart();
      mostra_carrinho('btn_showcase_home');
      setTimeout(function(){
        button.parents('.product').find('.sucess-add-cart').removeClass('active');
      }, 2000);
    }).fail(function( jqXHR, status, errorThrown ){
      button.parents('.product').find('.sucess-add-cart').addClass('active');
      button.parents('.product').find('.title').addClass('error').text('Estoque insuficiente');
      setTimeout(function(){
        button.parents('.product').find('.sucess-add-cart').removeClass('active');
      }, 2000);
    });
  });

  requestProductsCart();

})(jQuery);


  /**openchat */

  $('#ef_btn_chat_produto').on("click", function() {
    movideskChatWidgetChangeWindowState('maximized');
    $('#md-chat-widget').css('cssText', 'display: block !important');
  });

  jQuery(".page-product__priceplus--text").on("click", function (event) {
    event.preventDefault();

    jQuery("#Aba3 a.product-tabs__link").click();

    jQuery("#Aba3").addClass("show");

    var topPosition = $(".product-tabs__item.show").offset().top;

    jQuery("html, body").animate({ scrollTop: topPosition }, 800);
  });

if ($(".page-register").length > 0) { 
  $("#pf_span_sexo label").addClass("alingItens");

  $(".page-register .main__container>.container3 .board").prepend("<svg width='66' height='66' viewBox='0 0 66 66' fill='none' xmlns='http://www.w3.org/2000/svg'><g opacity='0.15'><path d='M33.1385 57.7496C33.0924 57.7499 33.0462 57.75 33 57.75C32.9538 57.75 32.9076 57.7499 32.8615 57.7496C32.9081 57.7039 32.9543 57.6577 33 57.6111C33.0457 57.6577 33.0919 57.7039 33.1385 57.7496Z' fill='#2B6FF1'/><path fill-rule='evenodd' clip-rule='evenodd' d='M49.4823 51.4637C49.494 51.269 49.5 51.0727 49.5 50.875C49.5 45.5593 45.1907 41.25 39.875 41.25H26.125C20.8093 41.25 16.5 45.5593 16.5 50.875C16.5 51.0727 16.506 51.269 16.5177 51.4637C11.444 46.9313 8.25 40.3387 8.25 33C8.25 19.331 19.331 8.25 33 8.25C46.669 8.25 57.75 19.331 57.75 33C57.75 40.3387 54.556 46.9313 49.4823 51.4637ZM33 33C37.5564 33 41.25 29.3063 41.25 24.75C41.25 20.1936 37.5564 16.5 33 16.5C28.4436 16.5 24.75 20.1936 24.75 24.75C24.75 29.3063 28.4436 33 33 33Z' fill='#2B6FF1'/></g><path d='M26.6812 42.75H39.3188V39.75H26.6812V42.75ZM39.3188 42.75C44.1133 42.75 48 46.6367 48 51.4312H51C51 44.9799 45.7701 39.75 39.3188 39.75V42.75ZM26.6812 39.75C20.2299 39.75 15 44.9799 15 51.4312H18C18 46.6367 21.8867 42.75 26.6812 42.75V39.75ZM39.75 24.75C39.75 28.4779 36.7279 31.5 33 31.5V34.5C38.3848 34.5 42.75 30.1348 42.75 24.75H39.75ZM33 31.5C29.2721 31.5 26.25 28.4779 26.25 24.75H23.25C23.25 30.1348 27.6152 34.5 33 34.5V31.5ZM26.25 24.75C26.25 21.0221 29.2721 18 33 18V15C27.6152 15 23.25 19.3652 23.25 24.75H26.25ZM33 18C36.7279 18 39.75 21.0221 39.75 24.75H42.75C42.75 19.3652 38.3848 15 33 15V18ZM56.25 33C56.25 45.8406 45.8406 56.25 33 56.25V59.25C47.4975 59.25 59.25 47.4975 59.25 33H56.25ZM33 56.25C20.1594 56.25 9.75 45.8406 9.75 33H6.75C6.75 47.4975 18.5025 59.25 33 59.25V56.25ZM9.75 33C9.75 20.1594 20.1594 9.75 33 9.75V6.75C18.5025 6.75 6.75 18.5025 6.75 33H9.75ZM33 9.75C45.8406 9.75 56.25 20.1594 56.25 33H59.25C59.25 18.5025 47.4975 6.75 33 6.75V9.75Z' fill='#2B6FF1'/></svg>");
  $("#telefone_cliente, #telefone_cliente_2, #pf_data_nascimento, #pf_cpf_cliente, #ie, #cnpj").parent().addClass("halfField");
  $("#senha_cliente").parents("p").addClass("passwordsField")
  $("#telefone_cliente_2").parent().addClass("rightHalfField");
  $(".page-register .main__container>.container>.container2 fieldset").append($("#email").parent());
  $(".termContainerRegister").prepend("<p class='new_term'>Ao criar uma conta voc\u00ea est\u00e1 de acordo com <span>nossa pol\u00edtica de privacidade.</span></p>")
  $("#endereco_cobranca_diferente, .dif").wrapAll("<div class='new__address'></div>");
  $(".adicionar_mais h3").addClass("adicionar_flex")

  $(".obriga").each(function(){
    var mandatoryField = $(this).parent().text().replaceAll("*", "")
    $(this).parent("label").prepend("<label>"+mandatoryField+"<span class='mandatoryStar'>*</span></label>")
    $(this).parent("label").addClass("mandatoryField")
  })

  $("#pf_cpf_cliente, #telefone_cliente_2, #cnpj").parent().addClass("halfField--right"); 

  
  $("#CadastroAbas > ul > li").on("click", function () {
    $("input#flagPfPj").trigger("change");
  });

  $("input#flagPfPj").on("change", function () {
    $(this).val() === "1"
      ? $("#main").addClass("_pj")
      : $("#main").removeClass("_pj");
  });

  if ($("#span_cep_nacional").length > 0) {
    $(
      '<input onkeyup="mascara(this,numeros2,event)" class="obriga" id="fullcep2" type="text" placeholder="00000-000" maxlength="8"/>'
    ).insertBefore($("#cep_1"));

    $("#cep_1 #cep_2").attr("placeholder", " ");

    let $cep1 = jQuery("#cep_1");
    let $cep2 = jQuery("#cep_2");
    $cep1.hide();
    $cep2.hide();

    $("#fullcep2").on("input", function () {
      let value = $(this).val();

      if (value.length <= 5) {
        $cep1.val(value);
        $cep2.val("");
      } else if (value.length === 8 && [0, 3].includes($cep2.val().length)) {
        $cep1.val(value.substring(0, 5));
        $cep2.val(value.substring(5));
      } else {
        $cep2.val(value.substring(5));
      }
    });
    $("#fullcep2").attr("onblur", $cep2.attr("onblur"));
  }
}

//Solução alternativa
$(document).ready(function(){
  $("#ad_juridica > fieldset > p > .mandatoryField label").first().text("VOC\u00ca \u00c9 CONTRIBUENTE?");
  $("#ad_juridica > fieldset > p > .mandatoryField label").eq(1).text("VOC\u00ca \u00c9 UMA REVENDA?");
  $("#ad_juridica > fieldset > p > .mandatoryField").css("width", "500px");

  $(".page-register .main__container>.container>.container2 fieldset").append("<h1></h1>")
  $(".page-register .main__container>.container>.container2 fieldset label").last().addClass("loadInfo")

  setTimeout(function(){
   
  $(".container2").css("display", "block")
  }, 100);
   
  });
$(document).ready(function () {
  $(".banner-home__list").slick({
    inifinite: true,
    autoplay: true,
    autoplaySpeed: 4500,
    slidesToShow: 1,
    slidesToScroll: 1,
    prevArrow,
    nextArrow,
    rows: 0,
    dots: true,
    customPaging,
  });
  /**Banner brands */
  $(".banner_brands").slick({
    inifinite: false,
    autoplay: false,
    autoplaySpeed: 4500,
    slidesToShow: 6,
    slidesToScroll: 1,
    prevArrow,
    nextArrow,
    responsive: [
      {
        breakpoint: 991,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
      {
        breakpoint: 678,
        settings: {
          slidesToScroll: 1,
          slidesToShow: 1,
        },
      },
    ]
  });
});
var elementoLeftSide = $(".md-chat-widget-wrapper.LeftSide");

if (elementoLeftSide.length > 0) {
    var iframeAoLado = elementoLeftSide.next("iframe");

    if (iframeAoLado.length > 0) {
        iframeAoLado.remove();
    }
}
if ($(".buy-button").length > 0) {
  window.process = function (quant) {
    var value = parseInt(document.getElementById("quant").value);
    value += quant;
    if (value < 1) {
      document.getElementById("quant").value = 1;
    } else {
      document.getElementById("quant").value = value;
    }
  };
}

if ($(".page-product").length > 0) {
  if ($(".buy-together").length > 0) {
    const observer = new MutationObserver(function (mutations, observer) {
      if (mutations[0].type === "childList") {
        const { target } = mutations[0];
        rewritePrices($(target).find(".comprejuto_preco"), "de: ");
        rewritePrices($(target).find(".comprejunto_preco2"), "por: ");
      }
    });

    $(".precosCompreJunto").each(function () {
      rewritePrices($(this).find(".comprejuto_preco"), "de: ");
      rewritePrices($(this).find(".comprejunto_preco2"), "por: ");
      observer.observe($(this).get(0), {
        childList: true,
      });
    });

    $(".compreJunto > li").each(function () {
      let $parent = $(this);
      moveProductName($parent);
    });

    function rewritePrices(element, custom = "") {
      const number = parseFloat(
          $(element)
            .text()
            .trim()
            .replaceAll(".", "")
            .replace(",", ".")
            .replace(/[^0-9][^0-9.]*[^0-9]/g, "")
        ),
        template = `<span>${custom}</span><strong>${currencyFormat(
          number
        )}</strong>`;

      $(element).html(template);
    }

    function moveProductName() {
      const boxImages = $('.compreJunto form .fotosCompreJunto');
            const image = $('.compreJunto .produto img');
            const qtd = $('.compreJunto .precoCompreJunto .unidades_preco .unidades_valor');
            const spansLinksRemove = $(
                '.compreJunto .precoCompreJunto div:first-child> span, .compreJunto .precoCompreJunto div:first-child> a, .compreJunto .precoCompreJunto div:first-child > br'
            );
            let listQtd = [];

            boxImages.append('<div class="plus color to">=</div>');

            qtd.each(function () {
                const value = $(this).text();
                listQtd.push(value);
            });

            image.each(function (index) {
                const link = $(this).parent().attr('href') || '';
                const name = $(this).attr('alt');

                $(this).addClass('buyTogether-img lazyload');

                if (link !== '') {
                    $(this).unwrap();
                    $(this).parents('span').after(`<a class="buy-together__product-name" href="${link}">${name}</a>`);
                } else {
                    $(this).parents('span').after(`<p class="buy-together__product-name">${name}</p>`);
                }

                if (listQtd[index] == 1) {
                    $(this).after(`<p class="buyTogether-text">${listQtd[index]} unidade</p>`);
                } else {
                    $(this).after(`<p class="buyTogether-text">${listQtd[index]} unidades</p>`);
                }
            });

            $('.pageProduct-buyTogether').removeClass('tray-hide');
    }

    $(".fotosCompreJunto .plus.color").each(function () {
      var iconPlus = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="12" height="12" viewBox="0 0 12 12"><path fill="#2B6FF1" fill-rule="evenodd" d="M6 .25c.41 0 .75.34.75.75v4.25H11a.75.75 0 0 1 0 1.5H6.75V11a.75.75 0 0 1-1.5 0V6.75H1a.75.75 0 0 1 0-1.5h4.25V1c0-.41.34-.75.75-.75Z" clip-rule="evenodd"/></svg>`;

      $(this).html(iconPlus);
    });

    $(".fotosCompreJunto .varTit").each(function () {
      $(this).text($(this).text().replace(":", ""));
    });

    $(".fotosCompreJunto").each(function () {
      var iconEqual = `<svg class="equal sep" xmlns="http://www.w3.org/2000/svg" fill="none" width="14" height="8" viewBox="0 0 14 8"><path fill="#2B6FF1" fill-rule="evenodd" d="M13.75 1c0 .41-.34.75-.75.75H1a.75.75 0 0 1 0-1.5h12c.41 0 .75.34.75.75Zm0 6c0 .41-.34.75-.75.75H1a.75.75 0 0 1 0-1.5h12c.41 0 .75.34.75.75Z" clip-rule="evenodd"/></svg>`;

      $(this).after(iconEqual);
    });

    $(".buy-together form").each(function () {
      var parentProd = $(this).find(".fotosCompreJunto");
      var productQty = $(this).find(".produto").length;
      productQty > 4 && parentProd.addClass("large");

      if ($(window).width() < 992) {
        parentProd.find(".cpClear").remove();
        productQty % 2 === 1
          ? parentProd.addClass("odd")
          : parentProd.addClass("even");
      }
    });
  }
}

if ($(".product .compare").length > 0) {
  $(".compare .compare__link").on("click", function () {
    const id = $(this).closest(".product").attr("itemid"),
      action = $(this).attr("data-compare"),
      target = $(this).closest(".product");
    checkAction(action, id);

    function checkAction(action, id) {
      if (!action) {
        return;
      }
      $('.product[itemid="' + id + '"]').each(function () {
        if (!$(this).is(target)) {
          $(this)
            .find(
              '.compare-hidden[data-compare="' +
                (action === "add" ? "remove" : "add") +
                '"]'
            )
            .removeClass("compare-hidden")
            .find("input")
            .prop("checked", action === "add" ? true : false);

          $(this)
            .find(
              '[data-compare="' + (action === "add" ? "add" : "remove") + '"]'
            )
            .addClass("compare-hidden")
            .find("input")
            .prop("checked", false)
            .removeAttr("checked");
        } else if (action === "add") {
          $(this).find('[data-compare="remove"] input').prop("checked", true);
        }
      });
    }
  });
}

{
  let idsUnique = [];

  let template = (src, name, id) => {
    return `<li data-compare-id="${id}" class="compare-popup__item"><div class="compare-popup__info"><figure><img src="${src}" height="65" width="65" alt="mini_thumb"></figure><p>${name}</p></div><button data-remove-id="${id}" class="compare-popup__remove""><i class="compare-popup__icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" width="12" height="14" viewBox="0 0 12 14"><path fill="" d="M9.738 13.469H2.044A1.233 1.233 0 0 1 .84 12.206V3.885h.842v8.32a.391.391 0 0 0 .362.422h7.694a.39.39 0 0 0 .362-.421V3.885h.842v8.32a1.234 1.234 0 0 1-1.204 1.264ZM0 2.946h11.755v-.842H0v.842Z"/><path fill="" d="M7.156 4.63h.842v6.313h-.842V4.63ZM3.788 4.63h.842v6.313h-.842V4.63ZM7.997 1.625h-.8V.842h-2.61v.783h-.799V.842a.842.842 0 0 1 .8-.842h2.61a.842.842 0 0 1 .799.842v.783Z"/></svg></i><span>Remover</span></button></li>`;
  };

  function expandedCompareMain() {
    let $main = $(".compare-popup__main"),
      isExpanded = $main.attr("aria-expanded") === "true" ? true : false,
      $label = $(".compare-popup__label"),
      $icon = $(".compare-popup__action > i");

    $icon.toggleClass("rotate");

    !isExpanded
      ? $label.html("Esconder Produtos")
      : $label.html("Ver Produtos");

    $main.attr("aria-expanded", !isExpanded);

    customSlide($main.get(0));
  }

  function uncheckedCompare(productID) {
    $('.product[itemid="' + productID + '"]')
      .first()
      .find(".compare .compare__link")
      .not(".compare-hidden")
      .trigger("click");
  }

  function quantProductsToCompare() {
    let $popup = $(".compare-popup"),
      $main = $popup.find(".compare-popup__main"),
      isExpanded = $main.attr("aria-expanded") === "true" ? true : false,
      quant = $(".compare-popup__main [data-compare-id]").length;

    quant === 0 && isExpanded && expandedCompareMain();

    quant === 2 && !isExpanded && expandedCompareMain();

    $(".compare-popup .compare-popup__quant").html(quant);

    quant === 0 && $popup.attr("aria-hidden", true);
  }

  function addItemToComparePopup(productElement) {
    let $popup = $(".compare-popup"),
      $main = $(".compare-popup__main"),
      imgSrc = $(productElement).find(".product__image img").attr("src"),
      prodName = $(productElement).find(".product__name a").text().trim(),
      prodId = $(productElement).attr("itemid"),
      $mainPopup = $(".compare-popup .compare-popup__main > ul");

    $popup.attr("aria-hidden") === "true" && $popup.attr("aria-hidden", false);

    $main.hasClass("slide") && $main.css("height", "auto");

    $mainPopup.find('[data-compare-id="' + prodId + '"]').length === 0 &&
      $mainPopup.append(template(imgSrc, prodName, prodId));

    $main.hasClass("slide") && $main.css("height", $main.height() + "px");

    quantProductsToCompare();
  }

  function removeItemToComparePopup(productID, popup = true) {
    let $main = $(".compare-popup__main");
    let quant = $(".compare-popup__main [data-compare-id]").length - 1;

    quant > 0 && $main.hasClass("slide") && $main.css("height", "auto");

    $('.compare-popup [data-compare-id="' + productID + '"]').remove();

    popup && uncheckedCompare(productID);

    quant > 0 &&
      $main.hasClass("slide") &&
      $main.css("height", $main.height() + "px");

    quantProductsToCompare();
  }

  $(document).ready(function () {
    $('.compare .compare-hidden[data-compare="add"]').each(function () {
      let id = $(this).closest(".product").attr("itemid");

      !idsUnique.includes(id) &&
        idsUnique.push(id) &&
        addItemToComparePopup($(this).closest(".product"));
    });
  });

  $(document).on("click", ".compare-popup__remove", function () {
    let $id = $(this).attr("data-remove-id");
    removeItemToComparePopup($id);
  });

  $(document).on("click", ".compare__link", function () {
    let action = $(this).attr("data-compare"),
      $product = $(this).closest(".product"),
      $id = $product.attr("itemid");

    action === "add" && addItemToComparePopup($product);
    action === "remove" && removeItemToComparePopup($id, false);
  });

  $(".compare-popup__action").on("click", expandedCompareMain);
}

if ($(".filtered").length > 0) {
  let $parent = $(".filtered"),
    $filter = $("form.filter__form"),
    $filtered = $parent.find("[data-filtered]");

  $filtered.on("click", function () {
    let dataItem = $(this).data("filtered"),
      valueItem = $(this).data("value"),
      $section = $filter.find('[data-filter="' + dataItem + '"]');

    function unChecked(section, target) {
      $(section)
        .find("input:checked")
        .each(function () {
          let value = $(this).val();
          value === target && $(this).prop("checked", false).closest('form').submit();
        });
    }


    dataItem === "price"
      ? $section.find('input[type="hidden"]').val("").attr('disabled',true).closest('form').submit()
      : unChecked($section, valueItem);
  });
}
if ($(".gallery").length > 0) {

  /* Variables */
  const input = document.getElementById("selectedVariant"),
    galleryData = JSON.parse(
      document.getElementById("gallery-data").textContent
    );

  let $parent = $(".gallery"),
    $nav = $parent.find(".gallery__nav"),
    $frame = $parent.find(".gallery__frame");

  /* Hide buttons if product not have stock or not availiable  */
  function changeVariation(variationId) {
    galleryData.forEach(({ id, images, thumbs, stock }) => {
      +id === +variationId && changeGallery(thumbs, images);
      +id === +variationId && +stock < 1
        ? $(".buy-button").hide()
        : $(".buy-button").show();
    });
  }

  galleryData.some((item) => item.selected)
    ? hasSelectedVariation()
    : initThumbsAndGallery();

  /* When page has a variation selected remove items and rebuild */
  function hasSelectedVariation() {
    galleryData.forEach(({ id, selected }) => {
      if (selected) {
        $frame.find(".gallery__link").not(".video").remove();
        $nav.find(".gallery__figure").not(".video").remove();
        changeVariation(id);
      }
    });
  }

  /** Initialize slick in main image and thumbs too */
  function initThumbsAndGallery() {
    $nav.slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      asNavFor: $frame,
      centerMode: false,
      focusOnSelect: true,
      vertical: true,
      rows: 0,
      nextArrow,
      prevArrow,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            vertical: false
          }
        }
      ]
    });

    $frame.slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      asNavFor: $nav,
      fade: true,
      rows: 0,
      arrows: false,
      slide: ".gallery__link",
    });
  }

  /* Rebuild the structure when variation changes */
  function changeGallery(thumbs = [], images = []) {
    let templateThumb = (src) =>
        `<figure class="gallery__figure gallery__figure--nav"><img src="${src}" width="97" height="97" alt="img_thumb" loading="lazy"></figure>`,
      templateFrame = (src) =>
        `<a href="${src}" data-fancybox="gallery" class="gallery__link"><figure class="gallery__figure gallery__figure--frame"><img src="${src}" width="500" height="500" alt="img_frame" loading="lazy"></figure></a>`,
      elementsThumbs = "",
      elementsFrames = "";

    thumbs.forEach((src) => (elementsThumbs += templateThumb(src)));
    images.forEach((src) => (elementsFrames += templateFrame(src)));

    $nav.prepend(elementsThumbs);
    $frame.prepend(elementsFrames);
    initThumbsAndGallery();
  }

  /* Destroy main images and thumbs except main video and thumb video */
  function destroyGallery() {
    // $.fancybox.destroy();
    $frame.slick("unslick").find(".gallery__link").not(".video").remove();
    $nav.slick("unslick").find(".gallery__figure").not(".video").remove();
  }

  if (input) {
    const observer = new MutationObserver(function (mutations, observer) {
      if (mutations[0].attributeName === "value") {
        $(input).change();
      }
    });

    observer.observe(input, { attributes: true });

    $("#selectedVariant").on("change input", function (e) {
      let value = $(this).val();
      value.length && destroyGallery();
      value.length && changeVariation(value);
    });
  }

  if($('.gallery__link.video').length > 0) {

    function createUrlOfIframe(url){
      if(url.indexOf('.youtube.') !== -1 || url.indexOf('/youtu.be/') !== -1 ){
        return `https://www.youtube.com/embed/${url.slice(url.lastIndexOf('/') + 1)}?autoplay=1&loop=1&autopause=0`;
      }else if(url.indexOf('vimeo') !== -1){
        return `https://player.vimeo.com/video/${url.split('?')[0].slice(url.split('?')[0].lastIndexOf('/') + 1)}?autoplay=1`
      }else {
        return undefined
      }
    }

    function createIframeModal(link){
      if(createUrlOfIframe(link) !== undefined){
        const template = `<iframe src="${createUrlOfIframe(link)}" width="800" height="450" allow="autoplay; fullscreen" allowfullscreen>`;
        $('body').toggleClass('overlay')
        $('#overlay').append(template)
      } else {
        console.error('[Link do video não pertence ao Youtube ou ao Vimeo]')
      }
    }


    $('.gallery__link.video').on('click', function(e){
      e.preventDefault();
      createIframeModal($(this).attr('href'))
      console.log('[open video]')
    })

  }
}

if ($(".input-range").length > 0) {
  let $parent = $(".input-range");

  function rangeInfo() {
    let a = Number($parent.find("input")[0].value),
      b = Number($parent.find("input")[1].value),
      max = $parent.data("max"),
      min = $parent.data("min"),
      currV = Math.abs(a - b),
      currM = Math.abs(min - max),
      minV = a < b ? a : b,
      setL = (100 - ((currM - (minV - min)) * 100) / currM),
      setW = (currV * 100) / currM;

    $parent.css({ "--max": setW.toFixed(2), "--min": setL.toFixed(2) });
  }

  $(".input-range__input").on("change input", () => rangeInfo());

  rangeInfo(); 
}
if (isMobile) {
  $(".menu-mobile .menu__list").each(function (indexx) {
    let element = `<li class="menu__item menu__item--see-more"><a href="#">Ver Mais</a></li>`;
    let $lists = $(this);

    $lists
      .find("> li")
      .not(".menu__item--see-more")
      .each(function (index) {
        index > 9 && $(this).hide();
      });

    $lists.find("> li").length > 9 && $lists.append(element);
  });

  $(".menu__item--see-more > a").on("click", function (e) {
    e.preventDefault();

    let $hideItems = $(this).closest("ul").find(" > li:hidden");

    $hideItems.length > 0 &&
      $hideItems.each(function (index) {
        index <= 9 && $(this).fadeIn('555');
      });
      $(this).closest("ul").find(" > li:hidden").length < 1 && $(this).closest('li').remove();
  });
}

if ($(".minicart").length > 0) {
  const cart = {
    icons: {
      remove:
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="16" height="17" viewBox="0 0 16 17"><path fill="" d="M6.5 3h3a1.5 1.5 0 0 0-3 0Zm-1 0a2.5 2.5 0 1 1 5 0h5a.5.5 0 0 1 0 1h-1.054l-1.194 10.344A3 3 0 0 1 10.272 17H5.728a3 3 0 0 1-2.98-2.656L1.554 4H.5a.5.5 0 0 1 0-1h5ZM3.741 14.23A2 2 0 0 0 5.728 16h4.544a2 2 0 0 0 1.987-1.77L13.439 4H2.561l1.18 10.23ZM6.5 6.5A.5.5 0 0 1 7 7v6a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5ZM10 7a.5.5 0 1 0-1 0v6a.5.5 0 0 0 1 0V7Z"/></svg>',
    },
    storeID: $("html").data("store"),
    hash: null,
    Products: null, // products array > name, imagem, url, id, quantity and more
    info: {}, // total quantity and price @object info.price and info.amount
    minicartHide: function () {
      $(".minicart").attr("aria-hidden", true);
    },

    minicartShow: function () {
      $(".minicart").attr("aria-hidden", false);
    },

    showAmount: function () {
      const { amount } = this.info;
      $("#cart .cart__info").text(amount);
    },

    mountCart: function () {
      $(".minicart__main").html("");

      let template;

      if (this.Products) {

        template = '<ul class="minicart__list">'

        this.Products.forEach(({ product_id, bought_together_id, variant_id, product_name, product_image, product_url, quantity, price})=> {
          let ids = JSON.stringify({ product_id, ...(variant_id > 0 && { variant_id }),...(bought_together_id > 0 &&{ bought_together_id }) }).replaceAll('\"', '\'');
          template += '<li class="minicart__item">'
          template += '<a class="minicart__link" href="'+product_url.https+'">'
          template += '<figure class="minicart__frame"><img src="'+product_image.https+'" alt="'+product_name+'" height="106" width="106" loading="lazy"/></figure>'
          template += '<div class="minicart__info"><p class="minicart__name">'+product_name+'</p>'
          template += '<p class="minicart__qty">Quantidade: '+quantity+'</p><p class="minicart__price">'+currencyFormat(price)+'</p></div>'
          template += '</a>'
          template += '<button class="minicart__remove" data-remove-ids="'+ids+'" aria-label="Remover produto do minicart" type="button">'+this.icons.remove+'</button>'
          template += '</li>'
        })

        template += '</ul>'

      } else {
        template = '<span class="minicart__empty" >Carrinho Vazio !</span>';
      }

      $(".minicart__main").append(template);
    },

    updateCart: function () {
      $.get("/nocache/app.php?loja=" + this.storeID)
        .then((res) => JSON.parse(res))
        .done(({ hash }) => {
          cart.hash = hash;
          $.get(
            "/mvc/store/cart/count?loja=" + this.storeID + "&hash=" + hash
          ).done(({ cart: { price, amount } }) => {
            this.info = { price, amount };
            this.getCart();
            this.showAmount();
          });
        });
    },
    addCart: function () {
      $(document).ajaxComplete((event, xhr, settings) => {
        settings.type === "POST" && settings.url.indexOf("cart_preview") !== -1 && this.updateCart();
      });
    },

    getCart: function () {
      $.get("/web_api/cart/" + this.hash)
        .done((res) => {
          this.Products = res.map(({ Cart }) => Cart);
        })
        .then(() => this.mountCart())
        .fail(({ status, statusText }) => {
          this.Products = null;
          status === 404 && this.mountCart();
          status !== 404 &&
            console.error("[Code]", status, "[Message]", statusText);
        });
    },

    deleteItem: function (product_id, variant_id, bought_together_id) {
      let query =
        variant_id > 0 ? `/${product_id}/${variant_id}` : `/${product_id}`;

      $.ajax(
        "/web_api/carts/" + this.hash + (bought_together_id > 0 ? "" : query),
        {
          type: "DELETE",
        }
      )
        .done(() => this.updateCart())
        .fail(function ({ status, statusText }) {
          console.error("[Delete]", status, "[Message]", statusText);
        });
    },
    init: function () {
      this.updateCart();
      this.addCart();
    },
  };

  cart.init();

  $("#cart .cart__link").on("click", function (e) {
    e.preventDefault();
    cart.minicartShow();
  });

  $(document).on("click", ".minicart__close", function (e) {
    e.preventDefault();
    cart.minicartHide();
  });

  // close modal when has a click outside
  $(document).on("click", '.minicart[aria-hidden="false"]', function (e) {
    e.stopPropagation();
    e.preventDefault();
    const { target, currentTarget } = e;

    target === currentTarget && cart.minicartHide();
  });

  $(document).on("click", ".minicart__remove", function (e) {
    e.preventDefault();
    const { product_id, variant_id, bought_together_id } = JSON.parse(
      $(this).data("remove-ids").replaceAll("'", '"')
    );
    cart.deleteItem(product_id, variant_id, bought_together_id);
    $(this).closest("li").slideToggle();
  });
}

if ($(".news").length > 0) {
  $(".news__content").load("/noticias .noticias", function (data, status) {
    if (status === "success") {
      $(this)
        .find(".noticias")
        .slick({
          arrows: false,
          dots: true,
          slidesToShow: 3,
          slidesToScroll: 3,
          infinite: false,
          rows: 0,
          customPaging,
          responsive: [
            {
              breakpoint: 991,
              settings: {
                slidesToShow: 2,
                slidesToScroll: 2,
              },
            },
            {
              breakpoint: 678,
              settings: {
                slidesToScroll: 1,
                slidesToShow: 1,
              },
            },
          ],
        });
    }
  });
}

if ($(".paginate").length > 0) {
  let first =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="12" viewBox="0 0 13 12"><path fill="" fill-rule="evenodd" d="M12.28 11.28a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L7.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Zm-6 0a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L1.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"/></svg>',
    prev =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="7" height="12" viewBox="0 0 7 12"><path fill="" fill-rule="evenodd" d="M6.28 11.28a.75.75 0 0 1-1.06 0l-5-5a.75.75 0 0 1 0-1.06l5-5a.75.75 0 1 1 1.06 1.06L1.81 5.75l4.47 4.47a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"/></svg>',
    next =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="7" height="12" viewBox="0 0 7 12"><path fill="" fill-rule="evenodd" d="M.47.47a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06L4.94 6 .47 1.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/></svg>',
    last =
      '<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="13" height="12" viewBox="0 0 13 12"><path fill="" fill-rule="evenodd" d="M.22.22a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06l4.47-4.47L.22 1.28a.75.75 0 0 1 0-1.06Zm6 0a.75.75 0 0 1 1.06 0l5 5a.75.75 0 0 1 0 1.06l-5 5a.75.75 0 0 1-1.06-1.06l4.47-4.47-4.47-4.47a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/></svg>';

  $(".paginate__page--first > a").html(first);
  $(".paginate__page--prev > a").html(prev);
  $(".paginate__page--next > a").html(next);
  $(".paginate__page--last > a").html(last);
}

if ($(".page-product").length > 0) {
  function changeCssVar(name, value) {
    document.documentElement.style.setProperty(`--` + name, value);
  }
  function dashMove() {
    const gap = $(".product-tabs__list")[0].getBoundingClientRect().left,
      activeTarget = $(".product-tabs__item.show")[0].getBoundingClientRect(),
      widthTarget = activeTarget.width,
      dashWidth = widthTarget - widthTarget * 0.1,
      posiTarget = activeTarget.left,
      dashLeft = Math.abs(posiTarget - gap + widthTarget / 2 - dashWidth / 2);

    changeCssVar("dash-width", dashWidth.toFixed(2) + "px");
    changeCssVar("dash-left", dashLeft.toFixed(2) + "px");
  }

  !isMobile && window.addEventListener("resize", dashMove, false);

  $(".product-tabs a[data-url]").each(function () {
    var urlToLoad = $(this).attr("data-url");
    var contentId = $(this).attr("data-content-id");
    $(contentId).load(urlToLoad);
  });

  $(".product-tabs .product-tabs__item").each(function () {
    if ($(this).hasClass("show")) {
      var contentID = $(this).find("a").attr("data-content-id");
      !isMobile && $(contentID).addClass("show");
      isMobile && $(contentID).slideToggle();
    }
  });

  function clearShow() {
    $(
      ".product-tabs .product-tabs__item, .product-tabs .product-tabs__content"
    ).each(function () {
      $(this).has("show") && $(this).removeClass("show");
    });
  }

  $(".product-tabs .product-tabs__link").each(function () {
    var contentID = $(this).attr("data-content-id");

    isMobile && $(contentID).insertAfter($(this));

    $(this).on("click", function (e) {
      e.preventDefault();

      if (!isMobile) {
        clearShow();
        $(this).closest("li").addClass("show");
        $(contentID).addClass("show");
      } else {
        $(this).closest("li").toggleClass("show");
        $(contentID).slideToggle();
      }
      dashMove();
    });
  });



  !isMobile && dashMove();

  //if(oferta)
  const precoParcelado = document.querySelector('#variacaoPreco');
  const precoAvista = document.querySelector('.preco-avista span span');
  const desconto = document.querySelector('#precoDe');
  const parcelamento = document.querySelector('.preco-parc2 .color')
  const parcelamentoPreco = document.querySelector('.preco-parc2 span span')

  const temp = precoParcelado.textContent;

  precoParcelado.html(precoAvista.textContent);

  precoAvista.textContent = temp;

  $('#info_preco').html(`ou <strong class="de">${desconto.textContent}</strong> em at&eacute; ${parcelamento.textContent} de <strong>${parcelamentoPreco.textContent}</strong> sem juros`);
  $('.de').each(function() {
    var newText = $(this).text().replace('De', '');
    $(this).text(newText);
  });
}

if ($(".page-product").length > 0) {
  $(".products-related").length > 0 &&
    $(".products-related .showcase__list--related").slick({
      slidesToShow: 4,
      slidesToScroll: 4,
      infinite: false,
      rows: 0,
      nextArrow,
      prevArrow,
      dots: true,
      customPaging,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 678,
          settings: {
            slidesToScroll: 1,
            slidesToShow: 1,
          },
        },
      ],
    });
}

$(".reviews").length > 0 &&
  $(".reviews .dep_lista").slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    slide: ".dep_item",
    rows: 0,
    prevArrow,
    nextArrow,
    infinite: false,
    responsive: [
      {
        breakpoint: 991,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 2,
        },
      },
      {
        breakpoint: 678,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1,
        },
      },
    ],
  });

if ($(".ruler").length > 0) {
  const configSlick = {
    slidesToShow: 1,
    slidesToScroll: 1,
    autoplay: true, 
    autoplaySpeed: 3000,
    arrows: false,
    rows: 0,
  };

  function slickAction(action) {
    $(".ruler").slick(action);
  }

  let mobileMq = window.matchMedia("(max-width: 991px)");

  // when load page - check media query
  mobileMq.matches && slickAction(configSlick);

  // listening when change between 991px
  mobileMq.addEventListener("change", (e) => {
    e.matches ? slickAction(configSlick) : slickAction("unslick");
  });
}



document.querySelector('.search__form').addEventListener('submit', function() {
  this.submitted = true;
});
$(document).ready(function () {
  if ($(".segmentation").length > 0) {
    $(".segmentation .segmentation__list").slick({
      slidesToShow: 8,
      slidesToScroll: 1,
      slide: "li",
      rows: 0,
      arrows: true,
      prevArrow,
      nextArrow,
      infinite: false,
      dots: false,
      customPaging,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 678,
          settings: {
            slidesToScroll: 1,
            slidesToShow: 1,
          },
        },
      ],
    });
  }

  $(".segmentation__link").on("mouseenter", function(){
    $(this).find("> .segmentation__figure__behind").addClass("behindOn")
  });


  $(".segmentation__link").on("mouseleave", function(){
    $(this).find("> .segmentation__figure__behind").removeClass("behindOn")
  })
  if ($(".home__banner-information").length > 0) {
    $(".home__banner-information").slick({
      slidesToShow: 2,
      slidesToScroll: 2,
      rows: 0,
      arrows: false,
      infinite: true,
      dots: false,
      customPaging,
      responsive: [
        {
          breakpoint: 991,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
          },
        },
        {
          breakpoint: 678,
          settings: {
            slidesToScroll: 1,
            slidesToShow: 1,
          },
        },
      ],
    });
  }

});

if ($(".tagcloud").length > 0) {
  var fontWeight = [300, 400, 700];
  var fontStyle = ["normal", "italic"];

  $(".tagcloud a").each(function () {
    $(this).css({
      "font-style": `${fontStyle[randomNumber(0, fontStyle.length - 1)]}`,
      "font-weight": `${fontWeight[randomNumber(0, fontWeight.length - 1)]}`,
      color: `rgba(${randomNumber(0, 255)},${randomNumber(
        0,
        255
      )},${randomNumber(0, 255)})`,
    });
  });

  function randomNumber(min, max) {
    return Math.floor(Math.random() * (max - min + 1) + min);
  }
}

})(jQuery);